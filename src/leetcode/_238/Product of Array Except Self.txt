используй доплнительные массивы для хранения произведений слева направо, кроме первого элемента
и справа налево, кроме последнего элемента, результат это произведение элементов из двух массивов